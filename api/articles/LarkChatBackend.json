{"title":"æœåŠ¡ç«¯ä½¿ç”¨é£ä¹¦æœºå™¨äººå‘é€ä¿¡æ¯","uid":"7c7ffd2e1448fe10d3fa1123a825b256","slug":"LarkChatBackend","date":"2021-11-28T08:16:18.000Z","updated":"2022-04-03T08:30:38.555Z","comments":true,"path":"api/articles/LarkChatBackend.json","keywords":null,"cover":"https://img2.baidu.com/it/u=4249469460,464303751&fm=253&fmt=auto&app=120&f=JPEG?w=1278&h=704","content":"<h1 id=\"1-å‡†å¤‡å·¥ä½œ\"><a href=\"#1-å‡†å¤‡å·¥ä½œ\" class=\"headerlink\" title=\"1. å‡†å¤‡å·¥ä½œ\"></a>1. å‡†å¤‡å·¥ä½œ</h1><h2 id=\"1-1-åˆ›å»ºé£ä¹¦æœºå™¨äºº\"><a href=\"#1-1-åˆ›å»ºé£ä¹¦æœºå™¨äºº\" class=\"headerlink\" title=\"1.1 åˆ›å»ºé£ä¹¦æœºå™¨äºº\"></a>1.1 åˆ›å»ºé£ä¹¦æœºå™¨äºº</h2><p>æ–‡æ¡£ï¼š <a href=\"https://open.feishu.cn/document/home/introduction-to-custom-app-development/self-built-application-development-process\">å¼€å‘æµç¨‹ä¸å·¥å…·ä»‹ç»</a></p>\n<h2 id=\"1-2-ç»™æœºå™¨äººæ·»åŠ ç›¸åº”æƒé™\"><a href=\"#1-2-ç»™æœºå™¨äººæ·»åŠ ç›¸åº”æƒé™\" class=\"headerlink\" title=\"1.2 ç»™æœºå™¨äººæ·»åŠ ç›¸åº”æƒé™\"></a>1.2 ç»™æœºå™¨äººæ·»åŠ ç›¸åº”æƒé™</h2><p>æ–‡æ¡£ï¼š <a href=\"https://open.feishu.cn/document/ukTMukTMukTM/uQjN3QjL0YzN04CN2cDN\">åº”ç”¨æƒé™</a></p>\n<h2 id=\"1-3-è·å–-lark-sdk\"><a href=\"#1-3-è·å–-lark-sdk\" class=\"headerlink\" title=\"1.3 è·å– lark-sdk\"></a>1.3 è·å– lark-sdk</h2><p>é¡¹ç›®ï¼š <a href=\"https://sunist-c.github.io/post/github.com/chyroc/lark\">chyroc&#x2F;lark</a></p>\n<p><code>lark</code>æ˜¯ä¸€ä¸ªå®ç°äº†é£ä¹¦å„APIçš„golangæ¨¡å—ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è·å–<code>lark</code></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">go get -u github.com&#x2F;chyroc&#x2F;lark<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h1 id=\"2-æ­£å¼ç¼–ç¨‹\"><a href=\"#2-æ­£å¼ç¼–ç¨‹\" class=\"headerlink\" title=\"2. æ­£å¼ç¼–ç¨‹\"></a>2. æ­£å¼ç¼–ç¨‹</h1><h2 id=\"2-1-åœ¨æœåŠ¡ç«¯å®ä¾‹åŒ–lark\"><a href=\"#2-1-åœ¨æœåŠ¡ç«¯å®ä¾‹åŒ–lark\" class=\"headerlink\" title=\"2.1 åœ¨æœåŠ¡ç«¯å®ä¾‹åŒ–lark\"></a>2.1 åœ¨æœåŠ¡ç«¯å®ä¾‹åŒ–lark</h2><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">cli <span class=\"token operator\">:=</span> lark<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span>\n    lark<span class=\"token punctuation\">.</span><span class=\"token function\">WithAppCredential</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"appID\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"appSecret\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    lark<span class=\"token punctuation\">.</span><span class=\"token function\">WithEventCallbackVerify</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"encryptKey\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"verificationToken\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"2-2-è·å–-token\"><a href=\"#2-2-è·å–-token\" class=\"headerlink\" title=\"2.2 è·å– token\"></a>2.2 è·å– token</h2><p>æ–‡æ¡£ï¼š <a href=\"https://open.feishu.cn/document/ukTMukTMukTM/ukDNz4SO0MjL5QzM/auth-v3/auth/tenant_access_token_internal\">è·å– tenant_access_tokenï¼ˆä¼ä¸šè‡ªå»ºåº”ç”¨ï¼‰</a></p>\n<p>larkåº”ç”¨éœ€è¦ä½¿ç”¨è¿™ä¸ªtokenä½œä¸ºæ ‡è¯†æ¥è¿›è¡Œå„ç§æ“ä½œã€‚</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>token æœ‰æ•ˆæœŸä¸º 2 å°æ—¶ï¼Œåœ¨æ­¤æœŸé—´è°ƒç”¨è¯¥æ¥å£ token ä¸ä¼šæ”¹å˜ã€‚å½“ token æœ‰æ•ˆæœŸå°äº 30 åˆ†çš„æ—¶å€™ï¼Œå†æ¬¡è¯·æ±‚è·å– token çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ tokenï¼Œä¸æ­¤åŒæ—¶è€çš„ token ä¾ç„¶æœ‰æ•ˆã€‚</p></blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">ctx <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nresponse<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span>Auth<span class=\"token punctuation\">.</span><span class=\"token function\">GetTenantAccessToken</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>è‹¥æ— æ„å¤–ï¼Œ<code>response</code> ä¸­çš„ <code>Token</code> å­—æ®µå³ä¸º <code>tenant_access_token</code>ã€‚</p>\n<h2 id=\"2-3-è·å–-chat-id\"><a href=\"#2-3-è·å–-chat-id\" class=\"headerlink\" title=\"2.3 è·å– chat_id\"></a>2.3 è·å– chat_id</h2><p>æ–‡æ¡£ï¼š <a href=\"https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/chat-id-description\">ç¾¤ID è¯´æ˜</a></p>\n<p>larkåº”ç”¨åœ¨å‘é€ä¿¡æ¯çš„æ—¶å€™éœ€è¦ä½¿ç”¨ <code>chat_id</code> æ¥è¯†åˆ«åº”è¯¥å‘é€åˆ°å“ªä¸ªä¼šè¯ã€‚</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>chat_idæ˜¯ä¸€ä¸ªç¾¤èŠçš„å”¯ä¸€æ ‡è¯†ã€‚å½“åˆ›å»ºä¸€ä¸ªç¾¤èŠçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆè¯¥IDã€‚</p></blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">ctx2 <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">WithValue</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span>\nresponse2<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span>Chat<span class=\"token punctuation\">.</span><span class=\"token function\">GetChatListOfSelf</span><span class=\"token punctuation\">(</span>ctx2<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>lark<span class=\"token punctuation\">.</span>GetChatListOfSelfReq<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>è‹¥æ— æ„å¤–ï¼Œ <code>response2</code> ä¸­çš„ <code>Items</code> å­—æ®µå³ä¸ºæ‰€æœ‰ <code>chat_id</code>ÃŸ çš„åˆ—è¡¨ã€‚</p>\n<h2 id=\"2-4-å‘é€ä¿¡æ¯\"><a href=\"#2-4-å‘é€ä¿¡æ¯\" class=\"headerlink\" title=\"2.4 å‘é€ä¿¡æ¯\"></a>2.4 å‘é€ä¿¡æ¯</h2><p>æ–‡æ¡£ï¼š <a href=\"https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/message/create\">å‘é€æ¶ˆæ¯</a></p>\n<p>larkåº”ç”¨å¯ä»¥è°ƒç”¨é£ä¹¦æ¥å£ï¼Œå®ç°ä¿¡æ¯å‘é€ã€‚</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">ctx3 <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ncli<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToChatID</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"chat_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">SendText</span><span class=\"token punctuation\">(</span>ctx3<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>è‹¥æ— æ„å¤–ï¼Œæœºå™¨äººå°±èƒ½å°†ä¸€æ¡å†…å®¹ä¸º <code>Hello</code> çš„ä¿¡æ¯å‘é€åˆ° <code>chat_id</code> çš„èŠå¤©ã€‚</p>\n<h1 id=\"3-å‚è€ƒä»£ç \"><a href=\"#3-å‚è€ƒä»£ç \" class=\"headerlink\" title=\"3. å‚è€ƒä»£ç \"></a>3. å‚è€ƒä»£ç </h1><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token string\">\"context\"</span>\n\t<span class=\"token string\">\"fmt\"</span>\n\t<span class=\"token string\">\"github.com/chyroc/lark\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tcli <span class=\"token operator\">:=</span> lark<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span>\n        lark<span class=\"token punctuation\">.</span><span class=\"token function\">WithAppCredential</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"appID\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"appSecret\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        lark<span class=\"token punctuation\">.</span><span class=\"token function\">WithEventCallbackVerify</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"encryptKey\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"verificationToken\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">)</span>\n\tctx <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\tresponse<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span>Auth<span class=\"token punctuation\">.</span><span class=\"token function\">GetTenantAccessToken</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span>\n\n\tctx2 <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">WithValue</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span>\n\tresponse2<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span>Chat<span class=\"token punctuation\">.</span><span class=\"token function\">GetChatListOfSelf</span><span class=\"token punctuation\">(</span>ctx2<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>lark<span class=\"token punctuation\">.</span>GetChatListOfSelfReq<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n\tctx3 <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> x <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> response2<span class=\"token punctuation\">.</span>Items <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">=</span> cli<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToChatID</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>ChatID<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">SendText</span><span class=\"token punctuation\">(</span>ctx3<span class=\"token punctuation\">,</span> <span class=\"token string\">`Hello`</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"4-é™„è®°\"><a href=\"#4-é™„è®°\" class=\"headerlink\" title=\"4. é™„è®°\"></a>4. é™„è®°</h1><p><code>lark</code>æ‰€æä¾›çš„æ¥å£å…¶å®ä¸å¤ªå¥½ç”¨ï¼Œæ›´å»ºè®®åœ¨å¼€å‘çš„æ—¶å€™æ‰‹åŠ¨ä½¿ç”¨é£ä¹¦å®˜æ–¹çš„APIæ¥å£è¿›è¡Œè°ƒç”¨ã€‚</p>\n","text":"1. å‡†å¤‡å·¥ä½œ1.1 åˆ›å»ºé£ä¹¦æœºå™¨äººæ–‡æ¡£ï¼š å¼€å‘æµç¨‹ä¸å·¥å…·ä»‹ç» 1.2 ç»™æœºå™¨äººæ·»åŠ ç›¸åº”æƒé™æ–‡æ¡£ï¼š åº”ç”¨æƒé™ 1.3 è·å– lark-sdké¡¹ç›®ï¼š chyroc&#x2F;lark larkæ˜¯ä¸€ä¸ªå®ç°äº†é£ä¹¦å„APIçš„golangæ¨¡å—ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è·å–lark go get ...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"blog","slug":"blog","count":12,"path":"api/categories/blog.json"}],"tags":[{"name":"lark","slug":"lark","count":2,"path":"api/tags/lark.json"},{"name":"Backend","slug":"Backend","count":6,"path":"api/tags/Backend.json"},{"name":"Golang","slug":"Golang","count":10,"path":"api/tags/Golang.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">1. å‡†å¤‡å·¥ä½œ</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-1-%E5%88%9B%E5%BB%BA%E9%A3%9E%E4%B9%A6%E6%9C%BA%E5%99%A8%E4%BA%BA\"><span class=\"toc-text\">1.1 åˆ›å»ºé£ä¹¦æœºå™¨äºº</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-2-%E7%BB%99%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%BA%94%E6%9D%83%E9%99%90\"><span class=\"toc-text\">1.2 ç»™æœºå™¨äººæ·»åŠ ç›¸åº”æƒé™</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-3-%E8%8E%B7%E5%8F%96-lark-sdk\"><span class=\"toc-text\">1.3 è·å– lark-sdk</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E6%AD%A3%E5%BC%8F%E7%BC%96%E7%A8%8B\"><span class=\"toc-text\">2. æ­£å¼ç¼–ç¨‹</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-1-%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%AE%9E%E4%BE%8B%E5%8C%96lark\"><span class=\"toc-text\">2.1 åœ¨æœåŠ¡ç«¯å®ä¾‹åŒ–lark</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2-%E8%8E%B7%E5%8F%96-token\"><span class=\"toc-text\">2.2 è·å– token</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-3-%E8%8E%B7%E5%8F%96-chat-id\"><span class=\"toc-text\">2.3 è·å– chat_id</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-4-%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">2.4 å‘é€ä¿¡æ¯</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">3. å‚è€ƒä»£ç </span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-%E9%99%84%E8%AE%B0\"><span class=\"toc-text\">4. é™„è®°</span></a></li></ol>","author":{"name":"ğš‚ğšğš—ğš’ğšœğšğ™²","slug":"blog-author","avatar":"/assets/img/favicon.png","link":"/","description":"ğš‚ğšğš—ğš’ğšœğšğ™² is a pigeon from SouthWest University","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/assets/svg/bilibili.svg","link":"https://space.bilibili.com/25394898"},"live":{"icon":"/assets/svg/live.svg","link":"https://live.bilibili.com/5184681"},"github":{"icon":"/assets/svg/github.svg","link":"https://github.com/sunist-c"},"institution":{"icon":"/assets/svg/institution.svg","link":"https://github.com/swu-acm-lab"},"outlook":{"icon":"/assets/svg/outlook.svg","link":"mailto:sunist@mail.swu-acm.cn"}}}},"mapped":true,"prev_post":{"title":"é£ä¹¦å°ç¨‹åºåŒæ­¥è¯¾è¡¨ä¸æ—¥å†","uid":"b8d46bdb901a3fa647b17fec08a37916","slug":"LarkCalendarProgram","date":"2021-12-03T06:31:32.000Z","updated":"2022-04-03T08:48:39.169Z","comments":true,"path":"api/articles/LarkCalendarProgram.json","keywords":null,"cover":"https://img2.baidu.com/it/u=4249469460,464303751&fm=253&fmt=auto&app=120&f=JPEG?w=1278&h=704","text":" é£ä¹¦æ›´æ–°äº†APIï¼Œç¨‹åºç›®å‰æ— æ³•è¿è¡Œï¼Œå°šåœ¨FIX 1. å‡†å¤‡å·¥ä½œ1.1 åˆ›å»ºé£ä¹¦å°ç¨‹åºç•¥ 1.2 ç»™æœºå™¨äººæ·»åŠ ç›¸åº”æƒé™ç•¥ 1.3 åˆ†æè¯¾è¡¨ç»“æ„è¥¿å—å¤§å­¦æ•™åŠ¡ç³»ç»Ÿè¿”å›çš„è¯¾è¡¨å¯ä»¥åœ¨å¼€å‘è€…å·¥å…·ä¸­çœ‹åˆ°å…·ä½“æ•°æ®ï¼Œæ˜¯jsonæ ¼å¼çš„ä¸€ä¸ªæ–‡ä»¶ã€‚ ç”±äºè¥¿å—å¤§å­¦æ•™åŠ¡ç³»ç»Ÿçš„é‰´æƒæµç¨‹è¿‡äºé˜´é—´ï¼Œæˆ‘ä»¬è‡³ä»Šæœªèƒ½...","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"blog","slug":"blog","count":12,"path":"api/categories/blog.json"}],"tags":[{"name":"lark","slug":"lark","count":2,"path":"api/tags/lark.json"},{"name":"Backend","slug":"Backend","count":6,"path":"api/tags/Backend.json"},{"name":"Golang","slug":"Golang","count":10,"path":"api/tags/Golang.json"}],"author":{"name":"ğš‚ğšğš—ğš’ğšœğšğ™²","slug":"blog-author","avatar":"/assets/img/favicon.png","link":"/","description":"ğš‚ğšğš—ğš’ğšœğšğ™² is a pigeon from SouthWest University","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/assets/svg/bilibili.svg","link":"https://space.bilibili.com/25394898"},"live":{"icon":"/assets/svg/live.svg","link":"https://live.bilibili.com/5184681"},"github":{"icon":"/assets/svg/github.svg","link":"https://github.com/sunist-c"},"institution":{"icon":"/assets/svg/institution.svg","link":"https://github.com/swu-acm-lab"},"outlook":{"icon":"/assets/svg/outlook.svg","link":"mailto:sunist@mail.swu-acm.cn"}}}}},"next_post":{"title":"Hexoåšå®¢éƒ¨ç½²æ€»ç»“","uid":"6744708d0acb1352be9f52cb85bacb83","slug":"HexoInit","date":"2021-11-06T01:59:06.000Z","updated":"2022-04-03T07:20:14.417Z","comments":true,"path":"api/articles/HexoInit.json","keywords":null,"cover":"https://img2.baidu.com/it/u=2905697182,2397684471&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500","text":"1. ç¯å¢ƒé…ç½®1.1 nvmçš„å®‰è£…a. ä¸‹è½½nvmå®‰è£…åŒ… nvmçš„å…¨ç§°ä¸ºnode version managerï¼Œå³nodeç‰ˆæœ¬ç®¡ç†å™¨ï¼Œç”¨äºä¾¿æ·çš„ç®¡ç†å„ä¸ªç‰ˆæœ¬çš„node.jsã€‚ nvm-windowsçš„å®˜æ–¹å‘å¸ƒåœ°å€ä¸ºï¼š https://github.com/coreybutler...","link":"","photos":[],"count_time":{"symbolsCount":"4k","symbolsTime":"4 mins."},"categories":[{"name":"blog","slug":"blog","count":12,"path":"api/categories/blog.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":1,"path":"api/tags/Hexo.json"},{"name":"Blog","slug":"Blog","count":1,"path":"api/tags/Blog.json"},{"name":"GitHub Actions","slug":"GitHub-Actions","count":1,"path":"api/tags/GitHub-Actions.json"},{"name":"GitHub Pages","slug":"GitHub-Pages","count":1,"path":"api/tags/GitHub-Pages.json"}],"author":{"name":"ğš‚ğšğš—ğš’ğšœğšğ™²","slug":"blog-author","avatar":"/assets/img/favicon.png","link":"/","description":"ğš‚ğšğš—ğš’ğšœğšğ™² is a pigeon from SouthWest University","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/assets/svg/bilibili.svg","link":"https://space.bilibili.com/25394898"},"live":{"icon":"/assets/svg/live.svg","link":"https://live.bilibili.com/5184681"},"github":{"icon":"/assets/svg/github.svg","link":"https://github.com/sunist-c"},"institution":{"icon":"/assets/svg/institution.svg","link":"https://github.com/swu-acm-lab"},"outlook":{"icon":"/assets/svg/outlook.svg","link":"mailto:sunist@mail.swu-acm.cn"}}}}}}