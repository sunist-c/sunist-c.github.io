{"title":"服务端使用飞书机器人发送信息","uid":"7c7ffd2e1448fe10d3fa1123a825b256","slug":"LarkChatBackend","date":"2021-11-28T08:16:18.000Z","updated":"2022-04-03T08:30:38.555Z","comments":true,"path":"api/articles/LarkChatBackend.json","keywords":null,"cover":"https://img2.baidu.com/it/u=4249469460,464303751&fm=253&fmt=auto&app=120&f=JPEG?w=1278&h=704","content":"<h1 id=\"1-准备工作\"><a href=\"#1-准备工作\" class=\"headerlink\" title=\"1. 准备工作\"></a>1. 准备工作</h1><h2 id=\"1-1-创建飞书机器人\"><a href=\"#1-1-创建飞书机器人\" class=\"headerlink\" title=\"1.1 创建飞书机器人\"></a>1.1 创建飞书机器人</h2><p>文档： <a href=\"https://open.feishu.cn/document/home/introduction-to-custom-app-development/self-built-application-development-process\">开发流程与工具介绍</a></p>\n<h2 id=\"1-2-给机器人添加相应权限\"><a href=\"#1-2-给机器人添加相应权限\" class=\"headerlink\" title=\"1.2 给机器人添加相应权限\"></a>1.2 给机器人添加相应权限</h2><p>文档： <a href=\"https://open.feishu.cn/document/ukTMukTMukTM/uQjN3QjL0YzN04CN2cDN\">应用权限</a></p>\n<h2 id=\"1-3-获取-lark-sdk\"><a href=\"#1-3-获取-lark-sdk\" class=\"headerlink\" title=\"1.3 获取 lark-sdk\"></a>1.3 获取 lark-sdk</h2><p>项目： <a href=\"https://sunist-c.github.io/post/github.com/chyroc/lark\">chyroc&#x2F;lark</a></p>\n<p><code>lark</code>是一个实现了飞书各API的golang模块，可以通过下面的方式获取<code>lark</code></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">go get -u github.com&#x2F;chyroc&#x2F;lark<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h1 id=\"2-正式编程\"><a href=\"#2-正式编程\" class=\"headerlink\" title=\"2. 正式编程\"></a>2. 正式编程</h1><h2 id=\"2-1-在服务端实例化lark\"><a href=\"#2-1-在服务端实例化lark\" class=\"headerlink\" title=\"2.1 在服务端实例化lark\"></a>2.1 在服务端实例化lark</h2><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">cli <span class=\"token operator\">:=</span> lark<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span>\n    lark<span class=\"token punctuation\">.</span><span class=\"token function\">WithAppCredential</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"appID\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"appSecret\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    lark<span class=\"token punctuation\">.</span><span class=\"token function\">WithEventCallbackVerify</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"encryptKey\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"verificationToken\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"2-2-获取-token\"><a href=\"#2-2-获取-token\" class=\"headerlink\" title=\"2.2 获取 token\"></a>2.2 获取 token</h2><p>文档： <a href=\"https://open.feishu.cn/document/ukTMukTMukTM/ukDNz4SO0MjL5QzM/auth-v3/auth/tenant_access_token_internal\">获取 tenant_access_token（企业自建应用）</a></p>\n<p>lark应用需要使用这个token作为标识来进行各种操作。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>token 有效期为 2 小时，在此期间调用该接口 token 不会改变。当 token 有效期小于 30 分的时候，再次请求获取 token 的时候，会生成一个新的 token，与此同时老的 token 依然有效。</p></blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">ctx <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nresponse<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span>Auth<span class=\"token punctuation\">.</span><span class=\"token function\">GetTenantAccessToken</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>若无意外，<code>response</code> 中的 <code>Token</code> 字段即为 <code>tenant_access_token</code>。</p>\n<h2 id=\"2-3-获取-chat-id\"><a href=\"#2-3-获取-chat-id\" class=\"headerlink\" title=\"2.3 获取 chat_id\"></a>2.3 获取 chat_id</h2><p>文档： <a href=\"https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/chat-id-description\">群ID 说明</a></p>\n<p>lark应用在发送信息的时候需要使用 <code>chat_id</code> 来识别应该发送到哪个会话。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>chat_id是一个群聊的唯一标识。当创建一个群聊的时候，系统会自动生成该ID。</p></blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">ctx2 <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">WithValue</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span>\nresponse2<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span>Chat<span class=\"token punctuation\">.</span><span class=\"token function\">GetChatListOfSelf</span><span class=\"token punctuation\">(</span>ctx2<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>lark<span class=\"token punctuation\">.</span>GetChatListOfSelfReq<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>若无意外， <code>response2</code> 中的 <code>Items</code> 字段即为所有 <code>chat_id</code>ß 的列表。</p>\n<h2 id=\"2-4-发送信息\"><a href=\"#2-4-发送信息\" class=\"headerlink\" title=\"2.4 发送信息\"></a>2.4 发送信息</h2><p>文档： <a href=\"https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/message/create\">发送消息</a></p>\n<p>lark应用可以调用飞书接口，实现信息发送。</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">ctx3 <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ncli<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToChatID</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"chat_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">SendText</span><span class=\"token punctuation\">(</span>ctx3<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>若无意外，机器人就能将一条内容为 <code>Hello</code> 的信息发送到 <code>chat_id</code> 的聊天。</p>\n<h1 id=\"3-参考代码\"><a href=\"#3-参考代码\" class=\"headerlink\" title=\"3. 参考代码\"></a>3. 参考代码</h1><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token string\">\"context\"</span>\n\t<span class=\"token string\">\"fmt\"</span>\n\t<span class=\"token string\">\"github.com/chyroc/lark\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tcli <span class=\"token operator\">:=</span> lark<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span>\n        lark<span class=\"token punctuation\">.</span><span class=\"token function\">WithAppCredential</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"appID\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"appSecret\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        lark<span class=\"token punctuation\">.</span><span class=\"token function\">WithEventCallbackVerify</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"encryptKey\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"verificationToken\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">)</span>\n\tctx <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\tresponse<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span>Auth<span class=\"token punctuation\">.</span><span class=\"token function\">GetTenantAccessToken</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span>\n\n\tctx2 <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">WithValue</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span>\n\tresponse2<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span>Chat<span class=\"token punctuation\">.</span><span class=\"token function\">GetChatListOfSelf</span><span class=\"token punctuation\">(</span>ctx2<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>lark<span class=\"token punctuation\">.</span>GetChatListOfSelfReq<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n\tctx3 <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> x <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> response2<span class=\"token punctuation\">.</span>Items <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">=</span> cli<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToChatID</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>ChatID<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">SendText</span><span class=\"token punctuation\">(</span>ctx3<span class=\"token punctuation\">,</span> <span class=\"token string\">`Hello`</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"4-附记\"><a href=\"#4-附记\" class=\"headerlink\" title=\"4. 附记\"></a>4. 附记</h1><p><code>lark</code>所提供的接口其实不太好用，更建议在开发的时候手动使用飞书官方的API接口进行调用。</p>\n","text":"1. 准备工作1.1 创建飞书机器人文档： 开发流程与工具介绍 1.2 给机器人添加相应权限文档： 应用权限 1.3 获取 lark-sdk项目： chyroc&#x2F;lark lark是一个实现了飞书各API的golang模块，可以通过下面的方式获取lark go get ...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"blog","slug":"blog","count":12,"path":"api/categories/blog.json"}],"tags":[{"name":"lark","slug":"lark","count":2,"path":"api/tags/lark.json"},{"name":"Backend","slug":"Backend","count":6,"path":"api/tags/Backend.json"},{"name":"Golang","slug":"Golang","count":10,"path":"api/tags/Golang.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">1. 准备工作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-1-%E5%88%9B%E5%BB%BA%E9%A3%9E%E4%B9%A6%E6%9C%BA%E5%99%A8%E4%BA%BA\"><span class=\"toc-text\">1.1 创建飞书机器人</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-2-%E7%BB%99%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%BA%94%E6%9D%83%E9%99%90\"><span class=\"toc-text\">1.2 给机器人添加相应权限</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-3-%E8%8E%B7%E5%8F%96-lark-sdk\"><span class=\"toc-text\">1.3 获取 lark-sdk</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E6%AD%A3%E5%BC%8F%E7%BC%96%E7%A8%8B\"><span class=\"toc-text\">2. 正式编程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-1-%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%AE%9E%E4%BE%8B%E5%8C%96lark\"><span class=\"toc-text\">2.1 在服务端实例化lark</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2-%E8%8E%B7%E5%8F%96-token\"><span class=\"toc-text\">2.2 获取 token</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-3-%E8%8E%B7%E5%8F%96-chat-id\"><span class=\"toc-text\">2.3 获取 chat_id</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-4-%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">2.4 发送信息</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">3. 参考代码</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-%E9%99%84%E8%AE%B0\"><span class=\"toc-text\">4. 附记</span></a></li></ol>","author":{"name":"𝚂𝚞𝚗𝚒𝚜𝚝𝙲","slug":"blog-author","avatar":"/assets/img/favicon.png","link":"/","description":"𝚂𝚞𝚗𝚒𝚜𝚝𝙲 is a pigeon from SouthWest University","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/assets/svg/bilibili.svg","link":"https://space.bilibili.com/25394898"},"live":{"icon":"/assets/svg/live.svg","link":"https://live.bilibili.com/5184681"},"github":{"icon":"/assets/svg/github.svg","link":"https://github.com/sunist-c"},"institution":{"icon":"/assets/svg/institution.svg","link":"https://github.com/swu-acm-lab"},"outlook":{"icon":"/assets/svg/outlook.svg","link":"mailto:sunist@mail.swu-acm.cn"}}}},"mapped":true,"prev_post":{"title":"飞书小程序同步课表与日历","uid":"b8d46bdb901a3fa647b17fec08a37916","slug":"LarkCalendarProgram","date":"2021-12-03T06:31:32.000Z","updated":"2022-04-03T08:48:39.169Z","comments":true,"path":"api/articles/LarkCalendarProgram.json","keywords":null,"cover":"https://img2.baidu.com/it/u=4249469460,464303751&fm=253&fmt=auto&app=120&f=JPEG?w=1278&h=704","text":" 飞书更新了API，程序目前无法运行，尚在FIX 1. 准备工作1.1 创建飞书小程序略 1.2 给机器人添加相应权限略 1.3 分析课表结构西南大学教务系统返回的课表可以在开发者工具中看到具体数据，是json格式的一个文件。 由于西南大学教务系统的鉴权流程过于阴间，我们至今未能...","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"blog","slug":"blog","count":12,"path":"api/categories/blog.json"}],"tags":[{"name":"lark","slug":"lark","count":2,"path":"api/tags/lark.json"},{"name":"Backend","slug":"Backend","count":6,"path":"api/tags/Backend.json"},{"name":"Golang","slug":"Golang","count":10,"path":"api/tags/Golang.json"}],"author":{"name":"𝚂𝚞𝚗𝚒𝚜𝚝𝙲","slug":"blog-author","avatar":"/assets/img/favicon.png","link":"/","description":"𝚂𝚞𝚗𝚒𝚜𝚝𝙲 is a pigeon from SouthWest University","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/assets/svg/bilibili.svg","link":"https://space.bilibili.com/25394898"},"live":{"icon":"/assets/svg/live.svg","link":"https://live.bilibili.com/5184681"},"github":{"icon":"/assets/svg/github.svg","link":"https://github.com/sunist-c"},"institution":{"icon":"/assets/svg/institution.svg","link":"https://github.com/swu-acm-lab"},"outlook":{"icon":"/assets/svg/outlook.svg","link":"mailto:sunist@mail.swu-acm.cn"}}}}},"next_post":{"title":"Hexo博客部署总结","uid":"6744708d0acb1352be9f52cb85bacb83","slug":"HexoInit","date":"2021-11-06T01:59:06.000Z","updated":"2022-04-03T07:20:14.417Z","comments":true,"path":"api/articles/HexoInit.json","keywords":null,"cover":"https://img2.baidu.com/it/u=2905697182,2397684471&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500","text":"1. 环境配置1.1 nvm的安装a. 下载nvm安装包 nvm的全称为node version manager，即node版本管理器，用于便捷的管理各个版本的node.js。 nvm-windows的官方发布地址为： https://github.com/coreybutler...","link":"","photos":[],"count_time":{"symbolsCount":"4k","symbolsTime":"4 mins."},"categories":[{"name":"blog","slug":"blog","count":12,"path":"api/categories/blog.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":1,"path":"api/tags/Hexo.json"},{"name":"Blog","slug":"Blog","count":1,"path":"api/tags/Blog.json"},{"name":"GitHub Actions","slug":"GitHub-Actions","count":1,"path":"api/tags/GitHub-Actions.json"},{"name":"GitHub Pages","slug":"GitHub-Pages","count":1,"path":"api/tags/GitHub-Pages.json"}],"author":{"name":"𝚂𝚞𝚗𝚒𝚜𝚝𝙲","slug":"blog-author","avatar":"/assets/img/favicon.png","link":"/","description":"𝚂𝚞𝚗𝚒𝚜𝚝𝙲 is a pigeon from SouthWest University","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/assets/svg/bilibili.svg","link":"https://space.bilibili.com/25394898"},"live":{"icon":"/assets/svg/live.svg","link":"https://live.bilibili.com/5184681"},"github":{"icon":"/assets/svg/github.svg","link":"https://github.com/sunist-c"},"institution":{"icon":"/assets/svg/institution.svg","link":"https://github.com/swu-acm-lab"},"outlook":{"icon":"/assets/svg/outlook.svg","link":"mailto:sunist@mail.swu-acm.cn"}}}}}}